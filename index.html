<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Party Countdown</title>
    <meta property="og:title" content="The Birthday Countdown">
    <meta property="og:description" content="Counting down the seconds until Tuesday!">
    <meta property="og:image" content="https://emojicdn.elk.sh/ðŸ¥³">
    
    <style>
        :root {
            --gold: #d4af37;
            --dark-bg: #111;
            --card-bg: #1a1a1a;
        }

        body {
            background-color: var(--dark-bg);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: 'Courier New', monospace;
            overflow: hidden;
            cursor: pointer;
        }

        #clock-container {
            padding: 50px;
            border: 4px solid #333;
            border-radius: 30px;
            text-align: center;
            background: var(--card-bg);
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
            transition: all 0.5s ease;
            z-index: 10;
            user-select: none;
        }

        #day-display {
            font-size: 22px;
            color: #888;
            letter-spacing: 5px;
            margin-bottom: 5px;
        }

        #time-display {
            font-weight: bold;
            font-size: clamp(40px, 10vw, 80px);
            margin: 15px 0;
            color: #00ff00;
            font-variant-numeric: tabular-nums;
            text-shadow: 0 0 20px rgba(0,255,0,0.3);
        }

        #date-display {
            font-size: 20px;
            color: #aaa;
        }

        #birthday-msg {
            margin-top: 30px;
            font-size: 32px;
            font-weight: bold;
            height: 40px;
        }

        #countdown-display {
            font-size: 18px;
            color: #ff9f43;
            margin-top: 10px;
            height: 25px;
            font-style: italic;
        }

        .controls {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #333;
            font-size: 14px;
            color: #555;
        }

        input {
            background: #222;
            color: #fff;
            border: 1px solid #444;
            padding: 5px;
            width: 70px;
            text-align: center;
            border-radius: 4px;
            outline: none;
        }

        /* Party State */
        .party-active {
            border-color: var(--gold) !important;
            background-color: #2c2510 !important;
            box-shadow: 0 0 70px rgba(212, 175, 55, 0.4) !important;
        }

        .party-active #time-display {
            color: var(--gold) !important;
            text-shadow: 0 0 30px rgba(212, 175, 55, 0.5) !important;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.08); }
            100% { transform: scale(1); }
        }
        .pulse { 
            animation: pulse 1s infinite ease-in-out; 
            color: var(--gold);
        }

        canvas {
            position: absolute;
            top: 0;
            left: 0;
            pointer-events: none;
        }
    </style>
</head>
<body onclick="createConfetti(event)">

<canvas id="canvas"></canvas>

<div id="clock-container" class="party-active">
    <div id="day-display">LOADING...</div>
    <div id="time-display">00:00:00</div>
    <div id="date-display">DATE: ---- -- --</div>
    
    <div id="birthday-msg" class="pulse">ðŸŽ‰ PARTY TIME! ðŸŽ‰</div>
    <div id="countdown-display"></div>
    
    <div class="controls" onclick="event.stopPropagation()">
        Real Birthday: <input type="text" id="bday-input" value="03/03">
        <div style="margin-top:10px; font-size:10px;">(Click anywhere for confetti!)</div>
    </div>
</div>

<script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    let confetti = [];

    function resize() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    }
    window.onresize = resize;
    resize();

    function createConfetti(e) {
        for(let i=0; i<30; i++) {
            confetti.push({
                x: e.clientX,
                y: e.clientY,
                vx: (Math.random() - 0.5) * 15,
                vy: (Math.random() - 0.5) * 15,
                size: Math.random() * 8 + 4,
                color: `hsl(${Math.random() * 360}, 80%, 60%)`,
                angle: Math.random() * 360,
                spin: Math.random() * 10 - 5
            });
        }
    }

    function draw() {
        ctx.clearRect(0,0,canvas.width, canvas.height);
        confetti.forEach((p, i) => {
            p.x += p.vx;
            p.y += p.vy;
            p.vy += 0.2; // Gravity
            p.angle += p.spin;
            
            ctx.fillStyle = p.color;
            ctx.save();
            ctx.translate(p.x, p.y);
            ctx.rotate(p.angle * Math.PI / 180);
            ctx.fillRect(-p.size/2, -p.size/2, p.size, p.size);
            ctx.restore();

            if(p.y > canvas.height) confetti.splice(i, 1);
        });
        requestAnimationFrame(draw);
    }
    draw();

    function updateClock() {
        const now = new Date();
        const bdayInput = document.getElementById('bday-input').value;
        const currentMMDD = (now.getMonth() + 1).toString().padStart(2, '0') + '/' + now.getDate().toString().padStart(2, '0');
        
        // Update basic displays
        const dayNames = ["SUNDAY", "MONDAY", "TUESDAY", "WEDNESDAY", "THURSDAY", "FRIDAY", "SATURDAY"];
        document.getElementById('day-display').innerText = dayNames[now.getDay()];
        document.getElementById('time-display').innerText = now.toLocaleTimeString('en-GB');
        document.getElementById('date-display').innerText = "DATE: " + now.toLocaleDateString('en-CA');

        // Logic for Birthday vs Party
        let isActualBirthday = (bdayInput === currentMMDD);
        const msgArea = document.getElementById('birthday-msg');
        const countArea = document.getElementById('countdown-display');

        if (isActualBirthday) {
            msgArea.innerText = "ðŸŽ‚ HAPPY BIRTHDAY! ðŸŽ‚";
            countArea.innerText = "THE DAY IS FINALLY HERE!";
        } else {
            msgArea.innerText = "ðŸŽ‰ PARTY TIME! ðŸŽ‰";
            if (bdayInput.length === 5) {
                const [m, d] = bdayInput.split('/');
                let target = new Date(now.getFullYear(), m-1, d);
                if (target < now) target.setFullYear(now.getFullYear() + 1);
                
                const diff = target - now;
                const days = Math.floor(diff / 86400000);
                const hrs = Math.floor((diff / 3600000) % 24);
                const mins = Math.floor((diff / 60000) % 60);
                const secs = Math.floor((diff / 1000) % 60);
                countArea.innerText = `UNTIL TUESDAY: ${days}d ${hrs}h ${mins}m ${secs}s`;
            }
        }
    }

    setInterval(updateClock, 1000);
    updateClock();
</script>
</body>
</html>
