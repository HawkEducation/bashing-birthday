<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bashing Birthday</title>
    <style>
        :root {
            --gold: #d4af37;
            --matrix: #00ff00;
            --bg: #0a0a0a;
        }

        body {
            background-color: var(--bg);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: 'Courier New', monospace;
            overflow: hidden;
        }

        #clock-container {
            padding: 40px;
            border: 3px solid #333;
            border-radius: 25px;
            text-align: center;
            background: #151515;
            transition: all 0.4s ease;
            position: relative;
            z-index: 10;
        }

        #time-display {
            font-weight: bold;
            font-size: clamp(40px, 12vw, 90px);
            margin: 10px 0;
            color: var(--matrix);
            text-shadow: 0 0 15px rgba(0,255,0,0.2);
        }

        #birthday-msg {
            font-size: 28px;
            font-weight: bold;
            height: 40px;
            margin-bottom: 10px;
        }

        #countdown-display {
            font-size: 18px;
            color: #ff9f43;
            margin-bottom: 20px;
        }

        /* Party Mode Styles */
        .party-on {
            border-color: var(--gold) !important;
            background-color: #2c2510 !important;
            box-shadow: 0 0 80px rgba(212, 175, 55, 0.3) !important;
        }

        .party-on #time-display {
            color: var(--gold) !important;
            text-shadow: 0 0 25px rgba(212, 175, 55, 0.5) !important;
        }

        .pulse { animation: pulse 1s infinite ease-in-out; color: var(--gold); }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* The Button */
        .toggle-btn {
            background: #333;
            color: white;
            border: none;
            padding: 15px 30px;
            font-family: inherit;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: 0.3s;
            box-shadow: 0 4px 0 #000;
        }

        .toggle-btn:active { transform: translateY(4px); box-shadow: none; }
        .btn-active { background: var(--gold); color: black; }

        canvas { position: absolute; top: 0; left: 0; pointer-events: none; }
    </style>
</head>
<body onclick="createConfetti(event)">

<canvas id="canvas"></canvas>

<div id="clock-container" id="main-card">
    <div id="time-display">00:00:00</div>
    <div id="birthday-msg"></div>
    <div id="countdown-display"></div>
    
    <button id="party-toggle" class="toggle-btn" onclick="toggleParty(event)">START THE PARTY ðŸ¥³</button>
</div>

<script>
    let partyMode = false;
    const bday = "03/03"; // Tuesday!

    function toggleParty(e) {
        e.stopPropagation(); // Stops confetti from firing just because you clicked the button
        partyMode = !partyMode;
        const btn = document.getElementById('party-toggle');
        const container = document.getElementById('clock-container');
        
        if(partyMode) {
            container.classList.add('party-on');
            btn.classList.add('btn-active');
            btn.innerText = "STOP THE PARTY ðŸ›‘";
        } else {
            container.classList.remove('party-on');
            btn.classList.remove('btn-active');
            btn.innerText = "START THE PARTY ðŸ¥³";
        }
    }

    function update() {
        const now = new Date();
        const timeStr = now.toLocaleTimeString('en-GB');
        const currentMMDD = (now.getMonth() + 1).toString().padStart(2, '0') + '/' + now.getDate().toString().padStart(2, '0');
        
        document.getElementById('time-display').innerText = timeStr;

        const msgArea = document.getElementById('birthday-msg');
        const countArea = document.getElementById('countdown-display');

        if (currentMMDD === bday) {
            msgArea.innerText = "ðŸŽ‚ HAPPY BIRTHDAY! ðŸŽ‚";
            msgArea.classList.add('pulse');
            countArea.innerText = "IT IS TUESDAY MY FRIENDS";
        } else {
            msgArea.innerText = partyMode ? "ðŸŽ‰ PARTY TIME! ðŸŽ‰" : "";
            if(partyMode) msgArea.classList.add('pulse');
            else msgArea.classList.remove('pulse');

            // Countdown Logic
            const target = new Date(now.getFullYear(), 2, 3); // March 3rd
            const diff = target - now;
            const d = Math.floor(diff / 86400000);
            const h = Math.floor((diff / 3600000) % 24);
            const m = Math.floor((diff / 60000) % 60);
            const s = Math.floor((diff / 1000) % 60);
            countArea.innerText = `UNTIL TUESDAY: ${d}d ${h}h ${m}m ${s}s`;
        }
    }

    // --- CONFETTI ENGINE ---
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    let particles = [];
    function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
    window.onresize = resize; resize();

    function createConfetti(e) {
        for(let i=0; i<20; i++) {
            particles.push({
                x: e.clientX, y: e.clientY,
                vx: (Math.random()-0.5)*10, vy: (Math.random()-0.5)*10,
                size: Math.random()*7+3, color: `hsl(${Math.random()*360}, 80%, 50%)`,
                r: Math.random()*360, sp: Math.random()*10-5
            });
        }
    }

    function animate() {
        ctx.clearRect(0,0,canvas.width,canvas.height);
        particles.forEach((p,i) => {
            p.x += p.vx; p.y += p.vy; p.vy += 0.2; p.r += p.sp;
            ctx.fillStyle = p.color;
            ctx.save(); ctx.translate(p.x, p.y); ctx.rotate(p.r*Math.PI/180);
            ctx.fillRect(-p.size/2, -p.size/2, p.size, p.size); ctx.restore();
            if(p.y > canvas.height) particles.splice(i,1);
        });
        requestAnimationFrame(animate);
    }

    setInterval(update, 1000);
    update();
    animate();
</script>
</body>
</html>
